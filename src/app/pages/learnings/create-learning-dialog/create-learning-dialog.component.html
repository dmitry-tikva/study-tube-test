<h2 mat-dialog-title class="text-center">Create a new learning</h2>

<mat-dialog-content class="py-4">
  <form
    [formGroup]="formObj"
    (keydown.enter)="!formObj.invalid ? submit() : null"
    autocomplete="off"
  >
    <mat-form-field class="full-width mb-2">
      <input
        matInput
        type="text"
        formControlName="name"
        placeholder="Name"
        name="name"
      />
      <mat-error>
        <app-control-messages
          [control]="formObj.controls['name']"
          class="error-msg m0"
        ></app-control-messages>
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width mb-2">
      <textarea
        matInput
        type="text"
        rows="10"
        formControlName="description"
        name="description"
        placeholder="Description"
      ></textarea>
      <mat-error>
        <app-control-messages
          [control]="formObj.controls['description']"
          class="error-msg m0"
        ></app-control-messages>
      </mat-error>
    </mat-form-field>
  </form>

  <small>* Please fill all required fields</small>
</mat-dialog-content>

<mat-dialog-actions class="modal-actions" [class.align-between]="!loading">
  <div *ngIf="error" class="response-error">{{ error }}</div>
  <app-loader *ngIf="loading" [loading]="loading"></app-loader>

  <button *ngIf="!loading" mat-stroked-button (click)="close()">Cancel</button>

  <button
    *ngIf="!loading"
    mat-raised-button
    color="primary"
    (click)="submit()"
    [disabled]="formObj.invalid || !formObj.dirty"
  >
    Create
  </button>
</mat-dialog-actions>
